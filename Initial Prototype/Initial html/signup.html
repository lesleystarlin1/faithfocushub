<html>
<head>
    <title>FaithFocusHub</title>
    <link rel="stylesheet" href="../css/login.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <meta name="viewport" content="width = device-width, initial-scale=1">
</head>
<body>
<section id="banner">
    <img src="../images/logo.png" class="logo">
    <div class="banner-text">
        <h1>Faith Focus Hub</h1>
        <p>Welcome to the best bible study site!</p>
        <div class="banner-btn">
            <a href="../html/login.html"><span></span>Login</a>
            <a href="../html/signup.html"><span></span>Sign up</a>

        </div>
    </div>
</section>

<div id="sideNav">
    <nav>
        <ul>
            <li><a href="../html/index.html">HOME</a></li>
            <li><a href="../html/bible.html">BIBLE</a></li>
            <li><a href="../html/study.html">STUDY OPTIONS</a></li>
            <li><a href="../html/about.html">ABOUT</a></li>
            <li><a href="../html/login.html">LOGIN</a></li>
        </ul>
    </nav>
</div>
<div id="menuBtn">
    <img src="../images/menu.png" id="menu">
</div>


<div class="signup-box">
    <h1>Sign Up</h1>

    <form action="../php/process-signup.php" method="post" novalidate>
        <div>
            <label for="firstname">First Name</label>
            <input type="text" id="firstname" name="firstname" placeholder="" required>
        </div>
        <div>
            <label for="lastname">Last Name</label>
            <input type="text" id="lastname" name="lastname" placeholder="" required>
        </div>
        <div>
            <label for="email">Email</label>
            <input type="email" id="email" name="email" placeholder="" required>
        </div>
        <div>
            <label for="password">Password</label>
        <input type="password" id="password" name="password" placeholder="" required>
        </div>
        <div>
            <label for="confirmpassword">Confirm Password</label>
        <input type="password" id="confirmpassword" name="confirmpassword" placeholder="" required>
        </div>
    
        <button> Sign Up</button> 
    </form>
    <div id="errorContainer" style="color: red;"></div>
    
    <p> By Clicking the Sign Up button, you agree to our<br> 
        <a href="#">Terms and Conditions</a> and <a href="#"> Privacy Policy</a>
    </p>
    
    <p class="para-2">Already have an account? <a href="../html/login.html">Login here</a></p>
</div>

<script>
    function validateAndSubmit() {
        var form = document.getElementById("signupForm");
        var errorContainer = document.getElementById("errorContainer");

        // this checks if required fields are empty
        var requiredFields = form.querySelectorAll("[required]");
        var isValid = true;

        requiredFields.forEach(function (field) {
            if (field.value.trim() === "") {
                isValid = false;
                errorContainer.innerHTML = "All fields are required.";
                return;
            }
        });

        if (!isValid) {
            return;
        }

        // creates a FormData object to send form data asynchronously
        var formData = new FormData(form);

        // creates and configures the XMLHttpRequest object
        var xhr = new XMLHttpRequest();
        xhr.open("POST", form.action, true);
        xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");

        // this sets up the callback function to handle the response
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4) {
                if (xhr.status === 200) {
                    // success response, redirect or perform other actions as needed
                    window.location.href = "../html/signup-success.html";
                } else {
                    // error response, display error message
                    errorContainer.innerHTML = xhr.responseText;
                }
            }
        };

        xhr.send(formData);
    }
</script>



<!-- this makes the menu button work -->
<script>
    var menuBtn = document.getElementById("menuBtn")
    var sideNav = document.getElementById("sideNav")
    var menu = document.getElementById("menu")
    
    sideNav.style.right = "-250px"
    
    menuBtn.onclick = function(){
        if(sideNav.style.right == "-250px"){
            sideNav.style.right = "0";
            menu.src = "../images/x.png";
        }
        else{
            sideNav.style.right = "-250px";
            menu.src = "../images/menu.png";
        }
    }
</script>

</body>
</html>